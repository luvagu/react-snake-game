(this["webpackJsonpreact-snake-game"]=this["webpackJsonpreact-snake-game"]||[]).push([[0],{13:function(e,r,t){},15:function(e,r,t){"use strict";t.r(r);var n=t(0),c=t.n(n),o=t(7),a=t.n(o),u=(t(13),t(8)),i=t(5),s=t(6);function f(e,r,t){d(r,t)&&(r=function(e,r){for(var t=0;t<e;t++)r.push(Object(s.a)({},r[r.length-1]));return r}(1,r));for(var n=r.length-2;n>=0;n--)r[n+1]=Object(s.a)({},r[n]);return r[0].x+=e.x,r[0].y+=e.y,r}function d(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.ignoreHead,c=void 0!==n&&n;return e.some((function(e,t){return(!c||0!==t)&&b(e,r)}))}function b(e,r){return e.x===r.x&&e.y===r.y}function j(e){for(var r;null==r||d(e,r);)r={x:Math.floor(21*Math.random())+1,y:Math.floor(21*Math.random())+1};return r}var w=t(1);var x=function(e){var r=e.coords;return Object(w.jsx)("div",{className:"snake",style:{gridRowStart:r.y,gridColumnStart:r.x}})};var y=function(e){var r=e.coords;return Object(w.jsx)("div",{className:"food",style:{gridRowStart:r.y,gridColumnStart:r.x}})};function l(e){return(r=function(e){return e[0]}(e)).x<1||r.x>21||r.y<1||r.y>21||function(e){return d(e,e[0],{ignoreHead:!0})}(e);var r}var m=function(){var e=Object(n.useState)([{x:11,y:11}]),r=Object(i.a)(e,2),t=r[0],c=r[1],o=Object(n.useState)(j(t)),a=Object(i.a)(o,2),s=a[0],b=a[1],m=Object(n.useRef)({x:0,y:0}),v=Object(n.useRef)(),O=Object(n.useRef)(0),k=Object(n.useCallback)((function(e){l(t)?window.confirm("You lose!, Restart game?")&&(window.location="/"):(v.current=window.requestAnimationFrame(k),(e-O.current)/1e3<.2||(O.current=e,d(t,s)&&b(j(t)),c(Object(u.a)(f(m.current,t,s)))))}),[t,s]),h=function(e){switch(e.key){case"ArrowUp":if(0!==m.current.y)break;m.current={x:0,y:-1};break;case"ArrowDown":if(0!==m.current.y)break;m.current={x:0,y:1};break;case"ArrowLeft":if(0!==m.current.x)break;m.current={x:-1,y:0};break;case"ArrowRight":if(0!==m.current.x)break;m.current={x:1,y:0}}};return Object(n.useEffect)((function(){return v.current=window.requestAnimationFrame(k),function(){return window.cancelAnimationFrame(v.current)}}),[k]),Object(n.useEffect)((function(){return window.addEventListener("keydown",h),function(){return window.removeEventListener("keydown",h)}}),[]),Object(w.jsxs)("div",{className:"board",children:[t.map((function(e,r){return Object(w.jsx)(x,{coords:e},r)})),s&&Object(w.jsx)(y,{coords:s})]})};a.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.55423d6f.chunk.js.map