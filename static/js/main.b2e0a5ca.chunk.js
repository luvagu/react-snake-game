(this["webpackJsonpreact-snake-game"]=this["webpackJsonpreact-snake-game"]||[]).push([[0],{13:function(r,e,n){},15:function(r,e,n){"use strict";n.r(e);var t=n(1),c=n.n(t),o=n(7),a=n.n(o),u=(n(13),n(8)),i=n(5),s=n(6);function d(r,e,n){f(e,n)&&(e=function(r,e){for(var n=0;n<r;n++)e.push(Object(s.a)({},e[e.length-1]));return e}(1,e));for(var t=e.length-2;t>=0;t--)e[t+1]=Object(s.a)({},e[t]);return e[0].x+=r.x,e[0].y+=r.y,e}function f(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=n.ignoreHead,c=void 0!==t&&t;return r.some((function(r,n){return(!c||0!==n)&&j(r,e)}))}function j(r,e){return r.x===e.x&&r.y===e.y}function l(r){for(var e;null==e||f(r,e);)e={x:Math.floor(21*Math.random())+1,y:Math.floor(21*Math.random())+1};return e}function b(r){return(e=function(r){return r[0]}(r)).x<1||e.x>21||e.y<1||e.y>21||function(r){return f(r,r[0],{ignoreHead:!0})}(r);var e}var x=n(0);var w=function(r){var e=r.coords;return Object(x.jsx)("div",{className:"snake",style:{gridRowStart:e.y,gridColumnStart:e.x}})};var O=function(r){var e=r.coords;return Object(x.jsx)("div",{className:"food",style:{gridRowStart:e.y,gridColumnStart:e.x}})},h=function(r){var e=r.handler,n=r.icon;return Object(x.jsx)("button",{onClick:e,type:"button",children:n})};var v=function(r){var e=r.handler;return Object(x.jsxs)("div",{className:"floating-arrows",children:[Object(x.jsx)(h,{handler:function(){return e(null,"ArrowUp")},icon:"\ud83d\udd3c"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(h,{handler:function(){return e(null,"ArrowLeft")},icon:"\u25c0\ufe0f"}),Object(x.jsx)(h,{handler:function(){return e(null,"ArrowRight")},icon:"\u25b6\ufe0f"})]}),Object(x.jsx)(h,{handler:function(){return e(null,"ArrowDown")},icon:"\ud83d\udd3d"})]})};var m=function(){var r=Object(t.useState)([{x:11,y:11}]),e=Object(i.a)(r,2),n=e[0],c=e[1],o=Object(t.useState)(l(n)),a=Object(i.a)(o,2),s=a[0],j=a[1],h=Object(t.useRef)({x:0,y:0}),m=Object(t.useRef)(),y=Object(t.useRef)(0),g=Object(t.useCallback)((function(r){b(n)?window.confirm("You lose!, Restart game?")&&(window.location="/react-snake-game/"):(m.current=window.requestAnimationFrame(g),(r-y.current)/1e3<.2||(y.current=r,f(n,s)&&j(l(n)),c(Object(u.a)(d(h.current,n,s)))))}),[n,s]),k=function(r){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e||r.key){case"ArrowUp":if(0!==h.current.y)break;h.current={x:0,y:-1};break;case"ArrowDown":if(0!==h.current.y)break;h.current={x:0,y:1};break;case"ArrowLeft":if(0!==h.current.x)break;h.current={x:-1,y:0};break;case"ArrowRight":if(0!==h.current.x)break;h.current={x:1,y:0}}};return Object(t.useEffect)((function(){return m.current=window.requestAnimationFrame(g),function(){return window.cancelAnimationFrame(m.current)}}),[g]),Object(t.useEffect)((function(){return window.addEventListener("keydown",k),function(){return window.removeEventListener("keydown",k)}}),[]),Object(x.jsxs)(t.Fragment,{children:[Object(x.jsxs)("div",{className:"board",children:[n.map((function(r,e){return Object(x.jsx)(w,{coords:r},e)})),s&&Object(x.jsx)(O,{coords:s})]}),Object(x.jsx)(v,{handler:k})]})};a.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(m,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b2e0a5ca.chunk.js.map